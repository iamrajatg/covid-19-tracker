(this.webpackJsonpcovid19_tracker=this.webpackJsonpcovid19_tracker||[]).push([[0],{102:function(e,t,a){},104:function(e,t,a){},108:function(e,t,a){},111:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),o=a.n(c),s=(a(102),a(28)),l=a.n(s),i=a(39),u=a(15),m=(a(104),a(239)),d=a(247),f=a(248);var p=function(e){var t=e.countries,a=e.country,n=e.change;return r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"COVID-19 TRACKER"),r.a.createElement(m.a,{className:"header__dropdown"},r.a.createElement(d.a,{variant:"outlined",value:a,onChange:function(e){return n(e)}},r.a.createElement(f.a,{key:"worldwide",value:"all"},"WORLDWIDE"),t.map((function(e){return r.a.createElement(f.a,{key:e.name+e.code,value:e.code},e.name)})))))},v=a(243),h=a(244),y=a(245),E=(a(108),a(18)),b=a.n(E),g=a(88),C=a.n(g);var O=function(e){var t=e.title,a=e.cases,c=e.total,o=e.active,s=e.onClick,l=Object(n.useState)(!0),i=Object(u.a)(l,2),m=i[0],d=i[1];return Object(n.useEffect)((function(){m||d(!0),a&&setTimeout((function(){d(!1)}),3e3)}),[a]),r.a.createElement(v.a,{className:"infoCard ".concat(o&&"infoCard--active"," ").concat("Recovered"===t&&"green"),onClick:s},r.a.createElement(h.a,null,r.a.createElement(y.a,{className:"infoCard__title",color:"textSecondary"},t),r.a.createElement("h2",{className:"infoCard__cases"},a>=0&&"+",a&&m&&r.a.createElement(C.a,{end:a,duration:2}),!m&&b()(a).format("0a").toUpperCase()),r.a.createElement(y.a,{className:"infoCard__total",color:"primary"},b()(c).format("0a").toUpperCase()," Total")))},j=a(251),x=a(252),k=a(250),N=a(249),w={cases:{hex:"#CC1034",multiplier:800},recovered:{hex:"#7dd71d",multiplier:1200},deaths:{hex:"#fb4443",multiplier:2e3}},S=function(e){return r.a.createElement("div",{className:"info-container"},r.a.createElement("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),r.a.createElement("div",{className:"info-country"},e.country),r.a.createElement("div",{className:"info-cases"},"Cases: ",b()(e.cases).format("0,0")),r.a.createElement("div",{className:"info-recovered"},"Recovered: ",b()(e.recovered).format("0,0")),r.a.createElement("div",{className:"info-deaths"},"Deaths: ",b()(e.deaths).format("0,0")))};a(111);var I=function(e){var t=e.countries,a=e.center,c=e.zoom,o=e.casesType,s=e.selectedCountry;return r.a.createElement("div",{className:"map"},r.a.createElement(j.a,{center:a,zoom:c},r.a.createElement(x.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases",a=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return r.a.createElement(n.Fragment,{key:e.countryInfo.iso2},e.countryInfo.iso2===a&&r.a.createElement(k.a,{position:[e.countryInfo.lat,e.countryInfo.long]},S(e)),r.a.createElement(N.a,{center:[e.countryInfo.lat,e.countryInfo.long],fillOpacity:.4,color:w[t].hex,fillColor:w[t].hex,radius:Math.sqrt(e[t])*w[t].multiplier},r.a.createElement(k.a,null,S(e))))}))}(t,o,s)))};var T=function(e){var t=e.tableData;return r.a.createElement("div",{className:"table"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"COUNTRY"),r.a.createElement("th",null,"CASES"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.countryInfo.iso2},r.a.createElement("td",null,e.country),r.a.createElement("td",null,r.a.createElement("strong",null,b()(e.cases).format("0,0"))))})))))},_=a(90),D={legend:{display:!1},elements:{points:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return b()(e.value).format("+0.0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,a){return b()(e).format("0a")}}}]}};var R=function(e){var t=e.casesType,a=e.selectedCountry,c=e.lastdays,o=Object(n.useState)([]),s=Object(u.a)(o,2),m=s[0],d=s[1];return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(l.a.mark((function e(){var n,r,o,s,i,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/historical/".concat(a,"?lastdays=").concat(c));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,o=[],"all"===a){if(r.cases)for(i in r[t])s&&o.push({x:i,y:r[t][i]-r[t][s]}),s=i}else if(r.timeline)for(u in r.timeline[t])s&&o.push({x:u,y:r.timeline[t][u]-r.timeline[t][s]}),s=u;d(o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t,a,c]),r.a.createElement("div",{className:"linegraph"},m.length>0?r.a.createElement(_.Line,{options:D,data:{datasets:[{backgroundColor:"recovered"===t?"rgba(0,255,0,0.5)":"rgba(204,16,52,0.6)",borderColor:"recovered"===t?"rgba(0,255,0,0.7)":"#CC1034",data:m}]}}):"Loading...")},L=(a(208),a(246)),A=a(253),W=Object(L.a)({root:{width:300,marginTop:"5px",marginLeft:"auto",marginRight:"auto"},textStyles:{fontSize:"1rem",fontWeight:"bold"}});function z(e){return"".concat(e,"days")}function B(e){var t=e.onChange,a=e.lastDaysForHistory,c=W(),o=Object(n.useState)(120),s=Object(u.a)(o,2),l=s[0],i=s[1];return r.a.createElement("div",{className:c.root},r.a.createElement(y.a,{className:c.textStyles,id:"slider",gutterBottom:!0,color:"primary"},"History Range - Last ",l," days"),r.a.createElement(A.a,{onChange:function(e,a){t(a),i(a)},value:a,defaultValue:120,getAriaValueText:z,"aria-labelledby":"slider",valueLabelDisplay:"auto",step:10,marks:!0,min:10,max:120}))}var M=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),s=Object(u.a)(o,2),m=s[0],d=s[1],f=Object(n.useState)("all"),y=Object(u.a)(f,2),E=y[0],b=y[1],g=Object(n.useState)({}),C=Object(u.a)(g,2),j=C[0],x=C[1],k=Object(n.useState)([]),N=Object(u.a)(k,2),w=N[0],S=N[1],_=Object(n.useState)({lat:34.80746,lng:-40.4796}),D=Object(u.a)(_,2),L=D[0],A=D[1],W=Object(n.useState)("cases"),z=Object(u.a)(W,2),M=z[0],F=z[1],U=Object(n.useState)(3),V=Object(u.a)(U,2),Y=V[0],H=V[1],J=Object(n.useState)(120),q=Object(u.a)(J,2),K=q[0],$=q[1];function G(e){return P.apply(this,arguments)}function P(){return(P=Object(i.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://disease.sh/v3/covid-19/".concat("all"===t?t:"countries/".concat(t)),e.prev=1,e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,x(r),"all"===t?(A({lat:34.80746,lng:-40.4796}),3!==Y&&setTimeout((function(){H(3)}),500)):(A({lat:r.countryInfo.lat,lng:r.countryInfo.long}),4!==Y&&setTimeout((function(){H(4)}),500)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var t,a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://disease.sh/v3/covid-19/countries");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,c(a),n=[],r=[],a.forEach((function(e){e.country&&e.countryInfo&&e.countryInfo.iso2&&(n.push({name:e.country,code:e.countryInfo.iso2}),r.push(e))})),r=r.sort((function(e,t){return t.cases-e.cases})),S(r),c(n),d(r),G("all"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var Q=a.find((function(e){return e.code===E}));return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"app_main"},r.a.createElement(p,{countries:a,country:E,change:function(e){b(e.target.value),G(e.target.value)}}),r.a.createElement("div",{className:"card_container"},r.a.createElement(O,{active:"cases"===M,onClick:function(e){return F("cases")},title:"Coronavirus Cases",cases:j.todayCases,total:j.cases}),r.a.createElement(O,{active:"recovered"===M,onClick:function(e){return F("recovered")},title:"Recovered",cases:j.todayRecovered,total:j.recovered}),r.a.createElement(O,{active:"deaths"===M,onClick:function(e){return F("deaths")},title:"Deaths",cases:j.todayDeaths,total:j.deaths})),r.a.createElement(I,{countries:m,center:L,zoom:Y,selectedCountry:E,casesType:M})),r.a.createElement(v.a,{className:"app_side"},r.a.createElement(h.a,null,r.a.createElement("h3",null,"Live Cases By Country"),r.a.createElement(T,{tableData:w}),r.a.createElement("h3",{style:{marginTop:"20px"}},"all"===E?"Worldwide ":Q&&Q.name+" ","new ",M),r.a.createElement(R,{casesType:M,lastdays:K,selectedCountry:E}),r.a.createElement(B,{value:K,onChange:$}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},97:function(e,t,a){e.exports=a(209)}},[[97,1,2]]]);
//# sourceMappingURL=main.197e92b9.chunk.js.map